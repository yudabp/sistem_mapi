<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Data Produksi - PT API APPS</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f5f7fa; }
    header { background: linear-gradient(90deg, #2e7d32, #43a047); color: white; padding: 20px; text-align: center; font-size: 22px; font-weight: bold; letter-spacing: 1px; box-shadow: 0 3px 6px rgba(0,0,0,0.2); }
    .container { padding: 20px; max-width: 1100px; margin: auto; }

    /* CARD BOX */
    .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 3px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
    .card h3 { margin-top: 0; color: #2e7d32; }

    /* FORM */
    form label { display: block; margin-top: 10px; font-weight: bold; }
    form input, form select { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ccc; border-radius: 8px; }
    form button { margin-top: 15px; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
    .btn-save { background: #2e7d32; color: white; }
    .btn-clear { background: #e53935; color: white; margin-left: 10px; }

    /* FILTER */
    .filter-box { margin: 20px 0; display: flex; gap: 10px; flex-wrap: wrap; }
    .filter-box input, .filter-box select { padding: 10px; border-radius: 8px; border: 1px solid #bbb; }

    /* EXPORT */
    .export-btns { margin: 15px 0; }
    .export-btns button { padding: 10px 16px; border: none; border-radius: 8px; margin-right: 10px; cursor: pointer; font-weight: bold; }
    .btn-excel { background: #43a047; color: white; }
    .btn-pdf { background: #e53935; color: white; }

    /* TABLE */
    table { width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 3px 8px rgba(0,0,0,0.05); }
    table th, table td { border: 1px solid #eee; padding: 12px; text-align: center; font-size: 14px; }
    table th { background: #1e88e5; color: white; font-size: 15px; }

    /* SUMMARY BOX */
    .summary { display: flex; justify-content: space-around; gap: 20px; margin: 20px 0; }
    .summary .box { flex: 1; background: white; padding: 20px; border-radius: 12px; text-align: center; box-shadow: 0 3px 8px rgba(0,0,0,0.1); }
    .summary h2 { margin: 0; color: #1e88e5; }
    .summary p { margin: 5px 0 0; font-weight: bold; color: #555; }
  </style>
</head>
<body>
  <header>üå¥ PT API APPS ‚Äì Data Produksi / Panen</header>
  <div class="container">

    <!-- FORM INPUT -->
    <div class="card">
      <h3>üìù Input Data Produksi</h3>
      <form id="formProduksi">
        <label>No:</label>
        <input type="text" name="no" required>

        <label>Tanggal:</label>
        <input type="date" name="tanggal" required>

        <label>No SP:</label>
        <input type="text" name="nosp">
        <input type="file" name="fotoSP" accept="image/*">

        <label>No Polisi:</label>
        <select name="nopol">
          <option>BL 9049 DB</option>
          <option>BL 8825 F</option>
          <option value="lainnya">+ Tambah Baru</option>
        </select>

        <label>Jumlah TBS:</label>
        <input type="number" name="tbs" required>

        <label>Jumlah KG:</label>
        <input type="number" name="kg" required>

        <label>Afdeling:</label>
        <select name="afd">
          <option>AFD I</option>
          <option>AFD II</option>
          <option>AFD III</option>
          <option value="lainnya">+ Tambah Baru</option>
        </select>

        <label>PKS:</label>
        <select name="pks">
          <option>APR</option>
          <option>EMSEM</option>
          <option>KPJ</option>
          <option value="lainnya">+ Tambah Baru</option>
        </select>

        <button type="submit" class="btn-save">‚úÖ Simpan</button>
        <button type="reset" class="btn-clear">‚ùå Clear</button>
      </form>
    </div>

    <!-- FILTER & PENCARIAN -->
    <div class="card">
      <h3>üîç Filter & Pencarian</h3>
      <div class="filter-box">
        <input type="text" placeholder="Cari data...">
        <select>
          <option>Filter Tanggal</option>
        </select>
        <select>
          <option>Filter Afdeling</option>
        </select>
        <select>
          <option>Filter PKS</option>
        </select>
      </div>
    </div>

    <!-- EXPORT -->
    <div class="export-btns">
      <button class="btn-excel">‚¨á Export Excel</button>
      <button class="btn-pdf">‚¨á Export PDF</button>
    </div>

    <!-- SUMMARY BOX -->
    <div class="summary">
      <div class="box">
        <h2 id="totalTBS">0</h2>
        <p>Total TBS</p>
      </div>
      <div class="box">
        <h2 id="totalKG">0</h2>
        <p>Total KG</p>
      </div>
    </div>

    <!-- TABEL DATA -->
    <table id="dataTable">
      <thead>
        <tr>
          <th>No</th>
          <th>Tanggal</th>
          <th>No SP</th>
          <th>No Polisi</th>
          <th>Jumlah TBS</th>
          <th>Jumlah KG</th>
          <th>Afdeling</th>
          <th>PKS</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>2025-09-30</td>
          <td>SP001</td>
          <td>BL 9049 DB</td>
          <td>120</td>
          <td>5600</td>
          <td>AFD I</td>
          <td>APR</td>
        </tr>
        <tr>
          <td>2</td>
          <td>2025-10-01</td>
          <td>SP002</td>
          <td>BL 8825 F</td>
          <td>150</td>
          <td>7000</td>
          <td>AFD II</td>
          <td>EMSEM</td>
        </tr>
      </tbody>
    </table>

  </div>

  <script>
    // Hitung Total TBS & Total KG
    function updateSummary() {
      let rows = document.querySelectorAll("#dataTable tbody tr");
      let totalTBS = 0;
      let totalKG = 0;

      rows.forEach(row => {
        let tbs = parseInt(row.cells[4].innerText) || 0;
        let kg = parseInt(row.cells[5].innerText.replace(/[^\d]/g, "")) || 0;

        totalTBS += tbs;
        totalKG += kg;
      });

      document.getElementById("totalTBS").innerText = totalTBS.toLocaleString();
      document.getElementById("totalKG").innerText = totalKG.toLocaleString();
    }

    updateSummary();
  </script>
</body>
</html>
